(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{126:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__3SIki"}},127:function(e,t,n){e.exports={userPhoto:"users_userPhoto__1_En6"}},129:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",ruslanFace:"ProfileInfo_ruslanFace__3oLZZ"}},130:function(e,t,n){e.exports={item:"Post_item__ihtu9"}},14:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",activeLink:"Navbar_activeLink__3etBE"}},160:function(e,t,n){},161:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var s=n(63),r=n.n(s),a=n(1),c=n.n(a),i=(n(160),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,289)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))}),o=n(25),u=n(26),l=n(28),j=n(27),d=n(10),p=n(12),f=(n(161),n(14)),h=n.n(f),b=n(0),O=function(){return Object(b.jsxs)("nav",{className:h.a.nav,children:[Object(b.jsx)("div",{className:h.a.item,children:Object(b.jsx)(p.b,{to:"/profile",activeClassName:h.a.activeLink,children:"Profile"})}),Object(b.jsx)("div",{className:"".concat(h.a.item," ").concat(h.a.active),children:Object(b.jsx)(p.b,{to:"/dialogs",activeClassName:h.a.activeLink,children:"Messages"})}),Object(b.jsx)("div",{className:"".concat(h.a.item," ").concat(h.a.active),children:Object(b.jsx)(p.b,{to:"/users",activeClassName:h.a.activeLink,children:"Users"})}),Object(b.jsx)("div",{className:"".concat(h.a.item," ").concat(h.a.active),children:Object(b.jsx)(p.b,{to:"/news",children:"News"})}),Object(b.jsx)("div",{className:"".concat(h.a.item," ").concat(h.a.active),children:Object(b.jsx)(p.b,{to:"/music",children:"Music"})}),Object(b.jsx)("div",{className:"".concat(h.a.item," ").concat(h.a.active),children:Object(b.jsx)(p.b,{to:"/settings",children:"Settings"})}),Object(b.jsx)("div",{className:"".concat(h.a.item," ").concat(h.a.active),children:Object(b.jsx)(p.b,{to:"/friends",children:"Friends"})})]})},g=n(11),m=n(9),x=n(3),v=n(13),w=n.n(v),P=n(22),C=n(123).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"bc4d616d-dafe-4c6a-9a51-039bdd71eb40"}}),S={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return C.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return C.post("follow/".concat(e))},unfollow:function(e){return C.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI object"),k.getProfile(e)}},I=function(){return C.get("auth/me")},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return C.post("auth/login",{email:e,password:t,rememberMe:n})},y=function(){return C.delete("auth/login")},k={getProfile:function(e){return C.get("profile/"+e)},getStatus:function(e){return C.get("profile/status/"+e)},updateStatus:function(e){return C.put("profile/status",{status:e})}},A=n(38),D="social-network-app/auth/SET_USER_DATA",N={userId:null,email:null,login:null,isAuth:!1},T=function(e,t,n,s){return{type:D,payload:{userId:e,email:t,login:n,isAuth:s}}},M=function(){return function(){var e=Object(P.a)(w.a.mark((function e(t){var n,s,r,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:0===(n=e.sent).data.resultCode&&(s=n.data.data,r=s.id,a=s.email,c=s.login,t(T(r,a,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(x.a)(Object(x.a)({},e),t.payload);default:return e}},F="INITIALIZED_SUCCESS",R={initialized:!1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(x.a)(Object(x.a)({},e),{},{initialized:!0});default:return e}},B=n.p+"static/media/Loader.948188cc.svg",J=function(e){return Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:B})})},X=n(43),Q="ADD-POST",V="SET_USER_PROFILE",W="SET_STATUS",Y="DELETE_POST",K={posts:[{id:1,message:"Hi, how are you?",likesCount:12},{id:2,message:"It's my first post",likesCount:11},{id:3,message:"What did you say, dude?",likesCount:10},{id:4,message:"Who am I?",likesCount:15}],profile:null,status:""},q=function(e){return{type:W,status:e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:var n={id:5,message:t.newPostText,likesCount:0};return Object(x.a)(Object(x.a)({},e),{},{posts:[].concat(Object(X.a)(e.posts),[n]),newPostText:""});case V:return Object(x.a)(Object(x.a)({},e),{},{profile:t.profile});case W:return Object(x.a)(Object(x.a)({},e),{},{status:t.status});case Y:return Object(x.a)(Object(x.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});default:return e}},H="SEND-MESSAGE",z={dialogs:[{id:1,name:"Ruslan"},{id:2,name:"Olga"},{id:3,name:"Viktor"},{id:4,name:"Alex"},{id:5,name:"Tatiana"},{id:6,name:"Oleg"}],messages:[{id:1,message:"Hi"},{id:2,message:"Whats uuupp"},{id:3,message:"Cmoon man"},{id:4,message:"Who let the dogs now"},{id:5,message:"Where is your mom"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:var n=t.newMessageBody;return Object(x.a)(Object(x.a)({},e),{},{messages:[].concat(Object(X.a)(e.messages),[{id:6,message:n}])});default:return e}},Z={},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return e},ee=function(e,t,n,s){return e.map((function(e){return e[n]===t?Object(x.a)(Object(x.a)({},e),s):e}))},te="FOLLOW",ne="UNFOLLOW",se="SET_USERS",re="SET_CURRENT_PAGE",ae="SET_TOTAL_USERS_COUNT",ce="TOGGLE_IS_FETCHING",ie="TOGGLE_IS_FOLLOWING_PROGRESS",oe={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},ue=function(e){return{type:te,userId:e}},le=function(e){return{type:ne,userId:e}},je=function(e){return{type:re,currentPage:e}},de=function(e){return{type:ce,isFetching:e}},pe=function(e,t){return{type:ie,isFetching:e,userId:t}},fe=function(){var e=Object(P.a)(w.a.mark((function e(t,n,s,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(pe(!0,n)),e.next=3,s(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(pe(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,s,r){return e.apply(this,arguments)}}(),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(x.a)(Object(x.a)({},e),{},{users:ee(e.users,t.userId,"id",{followed:!0})});case ne:return Object(x.a)(Object(x.a)({},e),{},{users:ee(e.users,t.userId,"id",{followed:!1})});case se:return Object(x.a)(Object(x.a)({},e),{},{users:t.users});case re:return Object(x.a)(Object(x.a)({},e),{},{currentPage:t.currentPage});case ae:return Object(x.a)(Object(x.a)({},e),{},{totalUsersCount:t.count});case ce:return Object(x.a)(Object(x.a)({},e),{},{isFetching:t.isFetching});case ie:return Object(x.a)(Object(x.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(X.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},be=n(124),Oe=n(121),ge=Object(m.c)({profilePage:G,dialogsPage:_,sidebar:$,usersPage:he,auth:U,form:Oe.a,app:L}),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,xe=Object(m.e)(ge,me(Object(m.a)(be.a)));window.___store___=xe;var ve=xe,we=n(85),Pe=n.n(we),Ce=n.p+"static/media/viking.904aad69.png",Se=function(e){return Object(b.jsxs)("header",{className:Pe.a.header,children:[Object(b.jsx)("img",{src:Ce,alt:""}),Object(b.jsx)("div",{className:Pe.a.loginBlock,children:e.isAuth?Object(b.jsxs)("div",{children:[e.login," - ",Object(b.jsx)("button",{onClick:e.logout,children:"Log out"})," "]}):Object(b.jsx)(p.b,{to:"/login",children:"Login"})})]})},Ie=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)(Se,Object(x.a)({},this.props))}}]),n}(c.a.Component),Ee=Object(g.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(P.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:0===e.sent.data.resultCode&&t(T(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ie),ye=(n(246),function(e){return Object(b.jsx)("div",{children:"News"})}),ke=(n(247),function(e){return Object(b.jsx)("div",{children:"Music"})}),Ae=(n(248),function(e){return Object(b.jsx)("div",{children:"Settings"})}),De=n(29),Ne=n.n(De),Te=function(e){var t="/dialogs/"+e.id;return Object(b.jsx)("div",{className:Ne.a.dialog+" "+Ne.a.active,children:Object(b.jsx)(p.b,{to:t,children:e.name})})},Me=function(e){return Object(b.jsx)("div",{className:Ne.a.dialog,children:e.message})},Ue=n(119),Fe=n(120),Re=n(54),Le=n(52),Be=n.n(Le),Je=["input","meta","child"],Xe=["input","meta","child"],Qe=function(e){var t=e.meta,n=t.touched,s=t.error,r=e.children,a=n&&s;return Object(b.jsxs)("div",{className:Be.a.formControl+" "+(a?Be.a.error:""),children:[Object(b.jsx)("div",{children:r}),a&&Object(b.jsx)("span",{children:s})]})},Ve=function(e){var t=e.input,n=(e.meta,e.child,Object(Re.a)(e,Je));return Object(b.jsx)(Qe,Object(x.a)(Object(x.a)({},e),{},{children:Object(b.jsx)("textarea",Object(x.a)(Object(x.a)({},t),n))}))},We=function(e){var t=e.input,n=(e.meta,e.child,Object(Re.a)(e,Xe));return Object(b.jsx)(Qe,Object(x.a)(Object(x.a)({},e),{},{children:Object(b.jsx)("input",Object(x.a)(Object(x.a)({},t),n))}))},Ye=function(e){if(!e)return"Field is required"},Ke=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},qe=Ke(50),Ge=Object(Fe.a)({form:"dialogAddMessageForm"})((function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(Ue.a,{component:Ve,validate:[Ye,qe],name:"newMessageBody",placeholder:"Enter your message"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Send"})})]})})),He=function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return Object(b.jsx)(Te,{name:e.name,id:e.id})})),s=t.messages.map((function(e){return Object(b.jsx)(Me,{message:e.message})}));t.newMessageBody;return e.isAuth?Object(b.jsxs)("div",{className:Ne.a.dialogs,children:[Object(b.jsx)("div",{className:Ne.a.dialogsItems,children:n}),Object(b.jsx)("div",{className:Ne.a.messages,children:Object(b.jsx)("div",{children:s})}),Object(b.jsx)(Ge,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]}):Object(b.jsx)(d.a,{to:"/login"})},ze=function(e){return{isAuth:e.auth.isAuth}},_e=Object(m.d)(Object(g.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:H,newMessageBody:e}}(t))}}})),(function(e){var t=function(t){Object(l.a)(s,t);var n=Object(j.a)(s);function s(){return Object(o.a)(this,s),n.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(e,Object(x.a)({},this.props)):Object(b.jsx)(d.a,{to:"/login"})}}]),s}(c.a.Component);return Object(g.b)(ze)(t)}))(He),Ze=n(126),$e=n.n(Ze),et=function(e){for(var t=e.totalUsersCount,n=e.pageSize,s=e.currentPage,r=e.onPageChanged,a=Math.ceil(t/n),c=[],i=1;i<=a;i++)c.push(i);return Object(b.jsx)("div",{children:c.map((function(e){return Object(b.jsxs)("span",{className:s===e&&$e.a.selectedPage,onClick:function(t){r(e)},children:[" ",e," "]})}))})},tt=n(127),nt=n.n(tt),st=function(e){var t=e.user,n=e.followingInProgress,s=e.unfollow,r=e.follow;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(p.b,{to:"/profile/"+t.id,children:Object(b.jsx)("img",{src:null!=t.photos.small?t.photos.small:"data:image/png;base64,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",className:nt.a.userPhoto})})}),Object(b.jsx)("div",{children:t.followed?Object(b.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:"Unfollow"}):Object(b.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(b.jsxs)("span",{children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:t.name}),Object(b.jsx)("div",{children:t.status})]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:"user.location.country"}),Object(b.jsx)("div",{children:"user.location.city"})]})]})]})},rt=["currentPage","onPageChanged","totalUsersCount","pageSize","users"],at=function(e){var t=e.currentPage,n=e.onPageChanged,s=e.totalUsersCount,r=e.pageSize,a=e.users,c=Object(Re.a)(e,rt);return Object(b.jsxs)("div",{children:[Object(b.jsx)(et,{currentPage:t,onPageChanged:n,totalUsersCount:s,pageSize:r}),Object(b.jsx)("div",{children:a.map((function(e){return Object(b.jsx)(st,{user:e,followingInProgress:c.followingInProgress,unfollow:c.unfollow,follow:c.follow},e.id)}))})]})},ct=n(128),it=Object(ct.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ot=function(e){return e.usersPage.pageSize},ut=function(e){return e.usersPage.totalUsersCount},lt=function(e){return e.usersPage.currentPage},jt=function(e){return e.usersPage.isFetching},dt=function(e){return e.usersPage.followingInProgress},pt=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[this.props.isFetching?Object(b.jsx)(J,{}):null,Object(b.jsx)(at,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(c.a.Component),ft=Object(m.d)(Object(g.b)((function(e){return{users:it(e),pageSize:ot(e),totalUsersCount:ut(e),currentPage:lt(e),isFetching:jt(e),followingInProgress:dt(e)}}),{follow:function(e){return function(t){fe(t,e,S.follow.bind(S),ue)}},unfollow:function(e){return function(t){fe(t,e,S.unfollow.bind(S),le)}},setCurrentPage:je,toggleFollowingProgress:pe,getUsers:function(e,t){return function(){var n=Object(P.a)(w.a.mark((function n(s){var r;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(je(e)),s(de(!0)),n.next=4,S.getUsers(e,t);case 4:r=n.sent,s(de(!1)),s((c=r.items,{type:se,users:c})),s((a=r.totalCount,{type:ae,count:a}));case 8:case"end":return n.stop()}var a,c}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(pt),ht=n(129),bt=n.n(ht),Ot=n(89),gt=function(e){var t=Object(a.useState)(!1),n=Object(Ot.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(e.status),i=Object(Ot.a)(c,2),o=i[0],u=i[1];Object(a.useEffect)((function(){u(e.status)}),[e.status]);return Object(b.jsxs)("div",{children:[!s&&Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"---------"})}),s&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(o)},value:o})})]})},mt=function(e){return e.profile?Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:bt.a.descriptionBlock,children:[Object(b.jsx)("img",{src:e.profile.photos.large}),Object(b.jsx)(gt,{status:e.status,updateStatus:e.updateStatus})]})}):Object(b.jsx)(J,{})},xt=n(88),vt=n.n(xt),wt=n(130),Pt=n.n(wt),Ct=n.p+"static/media/usersLogo.bdee3dc9.jpg",St=function(e){return Object(b.jsxs)("div",{className:Pt.a.item,children:[Object(b.jsx)("img",{src:Ct,alt:""}),e.message,Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"like"})," ",e.likesCount]})]})},It=Ke(10),Et=c.a.memo((function(e){var t=e.posts.map((function(e){return Object(b.jsx)(St,{message:e.message,likesCount:e.likesCount})}));return Object(b.jsxs)("div",{className:vt.a.postsBlock,children:[Object(b.jsx)("h3",{children:"My posts"}),Object(b.jsx)("div",{children:Object(b.jsx)(yt,{onSubmit:function(t){e.addPost(t.newPostText)}})}),Object(b.jsx)("div",{className:vt.a.posts,children:t})]})})),yt=Object(Fe.a)({form:"ProfileAddNewPostForm"})((function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(Ue.a,{name:"newPostText",placeholder:"Post message",component:Ve,validate:[Ye,It]})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Add post"})})]})})),kt=Et,At=Object(g.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:Q,newPostText:e}}(t))}}}))(kt),Dt=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(mt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(b.jsx)(At,{})]})},Nt=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserid)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(b.jsx)(Dt,Object(x.a)(Object(x.a)({},this.props),{},{status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(c.a.Component),Tt=Object(m.d)(Object(g.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserid:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(P.a)(w.a.mark((function t(n){var s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.getProfile(e);case 2:s=t.sent,n((r=s.data,{type:V,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(P.a)(w.a.mark((function t(n){var s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getStatus(e);case 2:s=t.sent,n(q(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(P.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(q(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d.f)(Nt),Mt=Ke(25),Ut=Object(Fe.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsx)("div",{children:Object(b.jsx)(Ue.a,{placeholder:"Email",validate:[Ye,Mt],name:"email",component:We})}),Object(b.jsx)("div",{children:Object(b.jsx)(Ue.a,{placeholder:"Password",validate:[Ye,Mt],name:"password",type:"password",component:We})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(Ue.a,{component:We,name:"rememberMe",type:"checkbox"}),"remember me"]}),n&&Object(b.jsx)("div",{className:Be.a.formSummeryError,children:n}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Login"})})]})})),Ft=Object(g.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var s=Object(P.a)(w.a.mark((function s(r){var a,c;return w.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,E(e,t,n);case 2:0===(a=s.sent).data.resultCode?r(M()):(c=a.data.messages.length>0?a.data.messages[0]:"Some error",r(Object(A.a)("login",{_error:c})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(b.jsx)(d.a,{to:"/profile"}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)(Ut,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),Rt=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(Ee,{}),Object(b.jsx)(O,{}),Object(b.jsxs)("div",{className:"app-wrapper-content",children:[Object(b.jsx)(d.b,{path:"/login",render:function(){return Object(b.jsx)(Ft,{})}}),Object(b.jsx)(d.b,{path:"/dialogs",render:function(){return Object(b.jsx)(_e,{})}}),Object(b.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(b.jsx)(Tt,{})}})," ",Object(b.jsx)(d.b,{path:"/users",render:function(){return Object(b.jsx)(ft,{})}}),Object(b.jsx)(d.b,{path:"/music",render:function(){return Object(b.jsx)(ke,{})}}),Object(b.jsx)(d.b,{path:"/news",render:function(){return Object(b.jsx)(ye,{})}}),Object(b.jsx)(d.b,{path:"/settings",render:function(){return Object(b.jsx)(Ae,{})}})]})]})}}]),n}(c.a.Component),Lt=Object(m.d)(d.f,Object(g.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(M());Promise.all([t]).then((function(){e({type:F})}))}}}))(Rt),Bt=function(e){return Object(b.jsx)(p.a,{children:Object(b.jsx)(g.a,{store:ve,children:Object(b.jsx)(Lt,{})})})};r.a.render(Object(b.jsx)(Bt,{}),document.getElementById("root")),i()},29:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogsItems:"Dialogs_dialogsItems__2sNe2",dialog:"Dialogs_dialog__lk_cw",active:"Dialogs_active__2sQhs",messages:"Dialogs_messages__1w_Up",message:"Dialogs_message__1xIDh"}},52:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue",formSummeryError:"FormsControls_formSummeryError__1QrDT"}},85:function(e,t,n){e.exports={header:"Header_header__1VCKf",loginBlock:"Header_loginBlock__6mma5"}},88:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}}},[[288,1,2]]]);
//# sourceMappingURL=main.535e937b.chunk.js.map